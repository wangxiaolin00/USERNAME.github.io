<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .box1 {
      height: 100px;
      width: 100px;
      background-color: cyan;
    }
  </style>
</head>

<body style="height: 2000px;">
  <div class="box1"></div>
  <script>
    var div1 = document.querySelector('.box1')
    //在火狐浏览器中用DOMMouseScroll来绑定滚轮滚动
    // div1.addEventListener('mousewheel', function (event) {
    //   // console.log(event);
    //   //event.wheelDelta值小于0说明滚轮往下滚
    //   //event.wheellDelta值为正120说明往上滚 这个属性火狐中不支持
    //  
    // })
    //火狐浏览器用event.detail
    //   console.log(event.detail);
    div1.onmousewheel = function (event) {
      if (event.wheelDelta > 0 || event.detail < 0) {
        this.style.height = div1.clientHeight - 10 + 'px'
        if (div1.clientHeight - 10 < 30) {
          div1.clientHeight - 10 == 30
        }
      } else {
        this.style.height = div1.clientHeight + 10 + 'px'
      }
      console.log(event.preventDefault);

      event.preventDefault && event.preventDefault()//取消默认行为IE8及以下浏览器不支持
      //所以改成存在才用   这样IE8浏览器不会报错
      return false //火狐不支持 这个取消默认行为  Ie8支持

    }
    bind1(div1, 'DOMMouseScroll', div1.onmousewheel)








    function bind1(obj, evnetStr, callback) {
      if (obj.addEventListener) {
        return obj.addEventListener(evnetStr, callback, false)
      } else {
        return obj.attachEvent('on' + evnetStr, function () {
          //匿名函数中调用回调函数改变回调函数中this
          callback.call(obj)
        })
      }
    }
  </script>

</body>

</html>