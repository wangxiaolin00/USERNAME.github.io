<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // class Star {
    //   constructor(x, y) {
    //     this.x = x
    //     this.y = y
    //   }
    //   sing() {
    //     console.log('dads');
    //   }
    // }
    function flatten(a) {
      return [].concat(...a)
    }
    console.log(flatten([1, 2, 3, [4]]))
    function concat1(ary, ...value) {
      var res = []
      ary.forEach(element => {
        res.push(element)
      });
      for (let k of value) {
        if (Array.isArray(k)) {
          k.forEach(it => {
            res.push(it)
          })
        } else {
          res.push(it)
        }
      }
      return res

    }
    function flatten11(arrays) {
      return [].concat(...arrays)
      // return [].concat.apply([], arrays)

    }
    function flattenDeep(ary) {
      var res = []
      ary.forEach(it => {
        if (Array.isArray(it)) {
          res.push(...flattenDeep(it))
        } else {
          res.push(it)
        }

      });
      return res
    }
    function flattenDeepth(ary, depth = 1) {
      if (depth == 0) {
        return ary.slice()
      }
      let res = []
      ary.forEach(it => {
        if (Array.isArray(it)) {
          res.push(...flattenDeepth(it, depth - 1))
        } else {
          res.push(it)
        }
      })
      return res
    }
    console.log(flattenDeepth([1, 2, [[1]], [4], [[[6]]]]))
    var ary = [1, 2, 3, 4, 5]
    var ff = ary.reduce((a, b, c) => {//a为前面元素求平均值得结果,b为没有参与求平均值得元素
      return (a * c + b) / (c + 1)
    })
    console.log(ff)
    var ss = 0
    ary.forEach(it => {
      ss += it
    })
    console.log(ss / ary.length)
    function grounpBy(ary, predicate = it => it) {
      var res = {}
      for (let i = 0; i < ary.length; i++) {
        var key = predicate(ary[i], i, ary)
        if (!Array.isArray(key)) {
          res[key] = []
        } else {
          res[key].push(ary[i])
        }

      }
      return res
    }
    console.log(grounpBy([1, 2, 3, 1, 2, 3, 4, 4, 1, 3, 2, 5, 3]))
    function mapvalues(obj, mapper = it => it) {
      var res = {}
      for (let k in obj) {
        var val = obj[k]
        res[k] = mapper(val, k, obj)

      }
      return res
    }
    //随机数生成算法
    //线性同余 var a=1103515245 c=12345 m=2**31 x=5
    //平方取中
    function random1() {
      return x = (a * x + c) % m
    }


  </script>

</body>

</html>